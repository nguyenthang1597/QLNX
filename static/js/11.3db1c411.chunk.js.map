{"version":3,"sources":["API/Customer.js","components/Admin/CustomerDetail.js","components/Admin/Customer.js"],"names":["__webpack_require__","d","__webpack_exports__","GetlistCustomer","AddCustomer","DeleteCustomer","_Config__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_1___default","n","token","url","concat","HOST","headers","Authorization","axios","get","data","post","id","delete","connect","state","Authenticate","props","_useState","useState","_useState2","Object","slicedToArray","isUpload","setUpload","_useState3","_useState4","mCustomerName","setCustomerName","_useState5","_useState6","mSDT","setSDT","_useState7","_useState8","mAddress","setAddress","_useState9","_useState10","mSoXe","setSoXe","react_default","a","createElement","styles","className","isShowing","style","paddingTop","paddingBottom","onClick","onCloseClick","marginTop","marginLeft","width","fontSize","marginBottom","value","onChange","e","target","type","justifyContent","ten","sodienthoai","diachi","biensoxe","then","Response","catch","err","console","log","response","handleButtonSave","editItem","setEditItem","isShowCustomerDetail","setShowCustomerDetail","listCustomer","setlistCustomer","listCustomerTemp","setlistCustomerTemp","searchValue","setSearchValue","useEffect","getlistCustomer","handleButtonSearch","arr","filter","toLowerCase","includes","Fragment","alignItems","onKeyPress","key","marginRight","map","item","index","ma","Admin_CustomerDetail"],"mappings":"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","file":"static/js/11.3db1c411.chunk.js","sourcesContent":["import {HOST} from '../Config'\nimport axios from 'axios'\n\nexport const GetlistCustomer = (token) => {\n    let url = `${HOST}/customer`\n    let headers = {\n        'Authorization': 'Bearer ' + token\n    }\n    return axios.get(url,{headers})\n}\nexport const AddCustomer = (token,data) => {\n    let url = `${HOST}/customer`\n    let headers = {\n        'Authorization': 'Bearer ' + token\n    }\n    return axios.post(url,data,{headers})\n}\nexport const DeleteCustomer  = (token,id) => {\n    let url = `${HOST}/customer/ma/`+id;\n    let headers = {\n        'Authorization': 'Bearer ' + token\n    }\n    return axios.delete(url,{headers})\n}\n","import React, { useState } from 'react'\nimport { Modal, ModalContent, CloseButton, DivFlexRow, Button, DivFlexColumn, Input } from '../../styles'\n// import { showNoti } from '../../../Actions/Notification';\n import {AddCustomer} from '../../API/Customer'\n import { connect } from 'react-redux'\n\n\n\nconst CustomerDetail = (props) => {\n\n    let [isUpload, setUpload] = useState(false);\n    let [mCustomerName,setCustomerName] = useState(\"\");\n    let [mSDT,setSDT] = useState(\"\");\n    let [mAddress,setAddress] = useState(\"\");\n    let [mSoXe,setSoXe] = useState(\"\");\n    \n\n    const handleButtonSave = () => {\n        var data={\n            ten:mCustomerName,\n            sodienthoai:mSDT,\n            diachi:mAddress,\n            biensoxe:mSoXe\n        }\n        setUpload(true);\n        AddCustomer(props.token,data).then(Response=>{\n            setUpload(false);\n            props.onCloseClick();\n        }).catch(err=>{\n            console.log(err.response.data);\n        });\n    };\n\n\n    return (\n        <Modal className={props.isShowing ? \"active\" : \"\"}>\n            <ModalContent>\n                <div style={{ paddingTop: 3, paddingBottom: 3 }}>\n                    <CloseButton onClick={props.onCloseClick}>&times;</CloseButton>\n                    <h2> </h2>\n                </div>\n                <DivFlexRow style={{ marginTop: 10 }}>\n                    <DivFlexColumn style={{ marginLeft: 25, width: '100%' }}>\n                        <DivFlexColumn style={{ fontSize: 20, marginBottom: 2 }}>\n                            Tên Khách Hàng\n                                <Input width='auto' value={mCustomerName.value} onChange={(e) => setCustomerName(e.target.value)} />\n                        </DivFlexColumn>\n                        <DivFlexColumn style={{ fontSize: 20, marginBottom: 2 }}>\n                            Số Điện Thoại\n                                <Input width='auto' type=\"Number\" value={mSDT.value} onChange={(e) => setSDT(e.target.value)} />\n                        </DivFlexColumn>\n                        <DivFlexColumn style={{ fontSize: 20, marginBottom: 5 }}>\n                            Địa Chỉ\n                                <Input width='auto'  value={mAddress.value} onChange={(e) => setAddress(e.target.value)} />\n                        </DivFlexColumn>\n                        <DivFlexColumn style={{ fontSize: 20, marginBottom: 2 }}>\n                            Biển Số Xe\n                                <Input type=\"Email\" width='auto' value={mSoXe.value} onChange={(e) => setSoXe(e.target.value)} />\n                        </DivFlexColumn>\n                        \n                    </DivFlexColumn>\n                </DivFlexRow>\n                <DivFlexRow style={{ justifyContent: 'flex-end' }}>\n                    <Button width='100px'onClick={() => handleButtonSave()}>\n                        {isUpload ? <i className=\"fas fa-spinner fa-spin\"></i> : \"Lưu\"}\n                    </Button>\n                </DivFlexRow>\n            </ModalContent>\n        </Modal>\n    )\n}\n\nconst mapState = (state) => ({\n    token: state.Authenticate.token,\n})\n\n// const mapDispatch = dispatch => ({\n//     showNoti: (type, mess) => { dispatch(showNoti(type, mess)) }\n// })\n\nexport default connect(mapState, null)(CustomerDetail);","import React, { useState, useEffect } from 'react'\nimport { Table, Button, DelButton, DivFlexRow, Input } from '../../styles'\nimport { connect } from 'react-redux'\nimport CustomerDetail from './CustomerDetail'\nimport {GetlistCustomer,DeleteCustomer} from '../../API/Customer'\n\nconst Customer = (props) => {\n    let [editItem, setEditItem] = useState(null);\n    let [isShowCustomerDetail, setShowCustomerDetail] = useState(false);\n    var [listCustomer,setlistCustomer]=useState([]);\n    var [listCustomerTemp,setlistCustomerTemp]=useState([]);\n    var [searchValue,setSearchValue]=useState(\"\");\n    useEffect(() => {\n        getlistCustomer();\n\n    },[]);\n\n    const getlistCustomer=()=>{\n        GetlistCustomer(props.token).then(Response=>{\n            setlistCustomer(Response.data);\n            setlistCustomerTemp(Response.data);\n            \n        });\n    }\n    // const handleButtonEdit = (item) => {\n    //     setShowCustomerDetail(true);\n    //     setEditItem(item);\n    // };\n    const handleButtonSearch = () => {\n        var arr=[]\n        arr = listCustomerTemp.filter(e => e.ten.toLowerCase().includes(searchValue.toLowerCase()));\n        setlistCustomer(arr);\n    };\n    const _handleKeyPress=(e)=> {\n        if (e.key === 'Enter') {\n          handleButtonSearch();\n        }\n      }\n    return (\n        <React.Fragment>\n            <DivFlexRow style={{ justifyContent: 'space-between', alignItems: 'center' }}>\n                <span style={{ fontSize: '20px' }}>Danh sách nhân viên</span>\n                <Button onClick={() => {\n                    setShowCustomerDetail(true)\n                    setEditItem(null);\n                }}>\n                    Thêm mới\n              <i className=\"fas fa-plus\"></i>\n                </Button>\n            </DivFlexRow>\n            <DivFlexRow style={{ alignItems: 'center', marginTop: 5, marginBottom: 15 }}>\n                <Input onKeyPress={_handleKeyPress} style={{ width: 250, marginRight: 15 }} onChange={(e) => setSearchValue(e.target.value)} />\n                <Button onClick={()=>{\n                    handleButtonSearch();\n                }}>\n                    Tìm Kiếm\n              <i className=\"fas fa-search\"></i>\n                </Button>\n            </DivFlexRow>\n            <Table>\n                <tbody>\n                    <tr>\n                        <th>Mã Khách Hàng</th>\n                        <th>Tên Khách Hàng</th>\n                        <th>Số Điện Thoại</th>\n                        <th>Địa Chỉ</th>\n                        <th>Biển Số Xe</th>\n                        <th></th>\n                    </tr>\n                    \n                    {listCustomer.map((item, index) => (\n                        <tr key={index}>\n                            <td>{item.ma}</td>\n                            <td>{item.ten}</td>\n                            <td>{item.sodienthoai}</td>\n                            <td>{item.diachi}</td>\n                            <td>{item.biensoxe}</td>                            \n                            <td>\n                                <Button ><i className=\"fas fa-cog\"></i></Button>\n                                <DelButton onClick={()=>{\n                                    DeleteCustomer(props.token,item.ma);\n                                    getlistCustomer();\n                                }} style={{marginLeft: 5}}><i className=\"far fa-trash-alt\"></i></DelButton>\n                            </td>\n                        </tr>\n                        \n                    ))}\n                </tbody>\n            </Table>\n            <DivFlexRow style={{ alignItems: ' center', justifyContent: 'flex-end', marginTop: 15 }}>\n                <Button><i className=\"fas fa-angle-double-left\"></i></Button>\n                <Button style={{ marginLeft: 10 }}><i className=\"fas fa-angle-double-right\"></i></Button>\n            </DivFlexRow>\n            <CustomerDetail isShowing={isShowCustomerDetail} onCloseClick={() => {\n                setShowCustomerDetail(false)\n                getlistCustomer();\n            }\n            } editItem={editItem} />\n\n        </React.Fragment>\n\n    )\n}\nconst mapState = (state) => ({\n    token: state.Authenticate.token\n})\nexport default connect(mapState, null)(Customer);\n"],"sourceRoot":""}